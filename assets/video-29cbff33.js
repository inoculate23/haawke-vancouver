import{W as p,V as i,a as w,L as f,P as u,C as b,b as v,D as L,A as P}from"./WebGLApp-802e8264.js";import{l as s}from"./three-utils-8a47a655.js";const S=document.querySelector("#app"),a=new p({canvas:S,background:"#000",showFps:!0,orbitControls:{maxPolarAngle:Math.PI*.54,target:new i(0,.4,.1)},cameraPosition:new i(-.9,.9,2.2),gui:!0});window.webgl=a;const t=document.createElement("video");t.src="./fcl.mp4";t.muted=!0;t.loop=!0;t.play();const j=new w(t),x=await s("./models/cinema_screen.glb"),o=x.scene;o.traverse(e=>{e.isMesh&&(e.material.map&&(e.material.map.encoding=f),e.material.color.getHexString()!=="ffffff"&&e.material.color.convertLinearToSRGB())});o.scale.setScalar(.1);const C=await s("./models/brut/scene.gltf"),r=C.scene;r.traverse(e=>{e.isMesh&&(e.material.map&&(e.material.map.encoding=f),e.material.color.getHexString()!=="ffffff"&&e.material.color.convertLinearToSRGB())});r.position.set(4,-.5,0);r.scale.setScalar(.061);const M=await s("./models/sky_dome.glb"),m=M.scene;m.scale.setScalar(4.7);a.scene.add(o);a.scene.add(r);a.scene.add(m);const n=new u(30,16/9,.01,2);n.position.set(0,.55,2);const l=new b(n),A=a.gui.add({showProjector:!0},"showProjector");A.onChange(e=>{e?a.scene.add(l):a.scene.remove(l)});let c;o.traverse(e=>{e.name==="screen"&&(c=e)});const d=new v({camera:n,texture:j,color:"#aaa"});c.material=d;d.project(c);const g=new L("#ffffff",.6);g.position.set(0,10,10);a.scene.add(g);const G=new P("#ffffff",.3);a.scene.add(G);a.start();
