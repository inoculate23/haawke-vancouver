import{W as w,V as d,a as p,L as v,P as b,C as h,b as S,D as L,A as y}from"./WebGLApp-802e8264.js";import{l as P,a as j}from"./three-utils-8a47a655.js";const E=document.getElementById("startButton");E.addEventListener("click",function(){x()});async function x(){const f=document.querySelector("#app"),t=new w({canvas:f,background:"#161829",fog:100,showFps:!0,orbitControls:{maxPolarAngle:Math.PI*.49,target:new d(.4,3,8),rotateSpeed:1,minDistance:1,maxDistance:40,autoRotate:!0,shadowMap:!0},cameraPosition:new d(17,11,45),cameraRotation:new d(0,0,0),gui:!0});window.webgl=t;const n=document.createElement("video");n.src="./images/vbb.mp4",document.getElementById("overlay").remove(),n.play(),n.addEventListener("play",function(){this.currentTime=1});const g=new p(n),i=(await P("./models/cinema_screen.glb")).scene;i.traverse(e=>{e.isMesh&&(e.material.map&&(e.material.map.encoding=v),e.material.color.getHexString()!=="ffffff"&&(e.material.color.convertLinearToSRGB(),e.scale.setScalar(1.5),e.position.set(0,1.4,9),e.rotation.set(0,180.6,0)))});const o=(await j("./models/hstes/gltf/hdtes-c1.gltf")).scene;o.position.set(0,1,10),o.scale.setScalar(5),o.castShadow=!0,o.recieveShadow=!0,t.scene.add(i),t.scene.add(o);const s=new b(35,16/9,.01,20);s.position.set(-27,8,8),s.rotation.set(0,-7.9,0);const l=new h(s);t.gui.add({showProjector:!0},"showProjector").onChange(e=>{e?t.scene.add(l):t.scene.remove(l)});let r;i.traverse(e=>{e.name==="screen"&&(r=e)});const c=new S({camera:s,texture:g,color:"#aaa"});r.material=c,c.receiveShadow=!0,c.castShadow=!0,c.project(r);const a=new L("#ffffff",1.4);a.position.set(-60,6,-5),a.rotation.set(0,9,0),a.castShadow=!0;const m=r;t.scene.add(m),t.scene.add(a),a.target=m,t.scene.add(a);const u=new y("#ffffff",.55);t.scene.add(u),t.start()}
